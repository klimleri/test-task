(this.webpackJsonpblynk=this.webpackJsonpblynk||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a(21)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),m=a(8),r=a.n(m);a(14),a(15);function i(){return c.a.createElement("aside",{className:"aside"},c.a.createElement("h2",{className:"aside__header"},"Dayry app"),c.a.createElement("p",{className:"aside__text"},"Comment whit no sense"))}var o=a(5),s=a(6),l=a(1),u=a(2),d=a(4),v=a(3),p=(a(16),a(17),function(e){Object(d.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),m=0;m<n;m++)c[m]=arguments[m];return(e=t.call.apply(t,[this].concat(c))).state={items:[]},e.handleSubmitForm=function(t){t.preventDefault(),e.props.addNewItem(t.target[0].value),t.target.reset()},e.handleSetActiveItem=function(t){(0,e.props.setActiveItem)(t)},e.handleDeleteItem=function(t,a){var n=e.props.deleteItem;t.stopPropagation(),t.preventDefault(),n(a)},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.activeItem,n=this.handleSetActiveItem,m=this.handleDeleteItem,r=this.handleSubmitForm;return c.a.createElement("div",{className:"box"},c.a.createElement("h2",{className:"title"},"Items"),c.a.createElement("form",{className:"form",onSubmit:r},c.a.createElement("input",{type:"text",className:"input form__input",placeholder:"Type name here...",required:!0}),c.a.createElement("button",{className:"btn items__btn",type:"submit"},"Add New")),c.a.createElement("ul",{className:"items__list"},t.map((function(e,t){return c.a.createElement("li",{onClick:function(){return n(e)},key:t,className:e.id===a.id?"item active":"item"},c.a.createElement("span",{className:"item__name"},e.name),c.a.createElement("span",{className:"item__count"},e.comments.length),c.a.createElement("button",{className:"btn btn__delete",onClick:function(t){return m(t,e)}},"Delete"))}))))}}]),a}(n.Component));a(18);function h(e){var t=e.data;return c.a.createElement("div",{className:"comment"},c.a.createElement("div",{className:"comment__color",style:{background:t.color}}),c.a.createElement("div",{className:"comment__text"},t.body))}a(19);var f=function(e){Object(d.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),m=0;m<n;m++)c[m]=arguments[m];return(e=t.call.apply(t,[this].concat(c))).handleSubmitForm=function(t){var a=e.props.addNewComment;t.preventDefault(),a(t.target[0].value,t.target[1].value),t.target.reset()},e.handleKeyDown=function(e){e.ctrlKey&&13===e.keyCode&&0!==e.target.value.length&&e.target.form[2].click()},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props.data;return c.a.createElement("div",{className:"box"},c.a.createElement("h2",{className:"title"},"Comments ",e&&"#".concat(e.id)),e&&e.comments.map((function(e){return c.a.createElement(h,{key:e.id,data:e})})),c.a.createElement("form",{className:"comment__form",onSubmit:this.handleSubmitForm},c.a.createElement("input",{type:"color",className:"input comment__input"}),c.a.createElement("textarea",{onKeyDown:this.handleKeyDown,className:"input comment__input comment__area",placeholder:"Type comment here...",required:!0}),c.a.createElement("button",{className:"btn btn__comment",type:"submit"},"Add New")))}}]),a}(n.Component),b=function(e){Object(d.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),m=0;m<n;m++)c[m]=arguments[m];return(e=t.call.apply(t,[this].concat(c))).state={items:[],activeItem:null},e.setActiveItem=function(t){e.setState({activeItem:Object(s.a)(Object(s.a)({},t),{},{comments:Object(o.a)(t.comments)})})},e.addNewItem=function(t){var a=e.state.items,n={name:t,id:e.getRandomId(),comments:[]};a.length||e.setActiveItem(n),e.setState({items:[].concat(Object(o.a)(a),[n])})},e.deleteItem=function(t){var a=e.state.items.filter((function(e){return e.id!==t.id}));e.setState({items:Object(o.a)(a)}),a.length?e.setActiveItem(a[a.length-1]):e.setState({activeItem:null})},e.addNewComment=function(t,a){var n=e.state,c=n.activeItem,m=n.items;c.comments.push({id:e.getRandomId(),body:a,color:t});for(var r=0;r<m.length;r++)if(m[r].id===c.id){m[r]=Object(s.a)({},c);break}e.setState({items:Object(o.a)(m),activeItem:Object(s.a)({},c)})},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this.state,t=e.items,a=e.activeItem,n=JSON.parse(window.localStorage.getItem("items")),c=JSON.parse(window.localStorage.getItem("activeItem"));n&&n.length?this.setState({items:Object(o.a)(n),activeItem:Object(s.a)({},c)}):!a&&t&&t[0]&&this.setActiveItem(t[0])}},{key:"componentDidUpdate",value:function(){var e=this.state,t=e.items,a=e.activeItem;window.onunload=function(){window.localStorage.setItem("items",JSON.stringify(t)),window.localStorage.setItem("activeItem",JSON.stringify(a))}}},{key:"getRandomId",value:function(){return Math.floor(Math.pow(10,7)+9*Math.random()*Math.pow(10,7))}},{key:"render",value:function(){var e=this.state,t=e.items,a=e.activeItem,n=this.addNewItem,m=this.setActiveItem,r=this.addNewComment,i=this.deleteItem;return c.a.createElement("main",{className:"main"},c.a.createElement("div",{className:"inner"},c.a.createElement(p,{data:t,activeItem:a,addNewItem:n,setActiveItem:m,deleteItem:i}),c.a.createElement(f,{data:a,addNewComment:r})))}}]),a}(n.Component);a(20);var I=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(i,null),c.a.createElement(b,null))};r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(I,null)),document.getElementById("root"))}],[[9,1,2]]]);
//# sourceMappingURL=main.06edad76.chunk.js.map