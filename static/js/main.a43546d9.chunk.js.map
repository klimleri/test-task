{"version":3,"sources":["components/Aside/index.js","components/Items/index.js","components/Comment/index.js","components/Comments/index.js","components/Main/index.js","containers/App/index.js","index.js"],"names":["Aside","className","Items","state","items","handleSubmitForm","event","preventDefault","props","addNewItem","target","value","reset","handleSetActiveItem","item","setActiveItem","handleDeleteItem","deleteItem","stopPropagation","this","data","activeItem","onSubmit","type","placeholder","required","map","index","onClick","key","id","name","comments","length","e","Component","Comment","style","background","color","body","Comments","addNewComment","handleKeyDown","ctrlKey","keyCode","form","click","onKeyDown","Main","setState","getRandomId","newItems","filter","i","push","itemsFromStore","JSON","parse","window","localStorage","getItem","activeItemFromStore","onunload","setItem","stringify","Math","floor","pow","random","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a43546d9.chunk.js","sourcesContent":["import React from 'react';\nimport './styles.css';\n\nexport default function Aside() {\n    return (\n        <aside className=\"aside\">\n            <h2 className=\"aside__header\">Dayry app</h2>\n            <p className=\"aside__text\">Comment whit no sense</p>\n        </aside>\n    );\n};\n","import React, { Component } from 'react';\nimport './styles.css';\n\nexport default class Items extends Component {\n    state = {\n        items: []\n    };\n\n    handleSubmitForm = event => {\n        event.preventDefault();\n        this.props.addNewItem(event.target[0].value);\n        event.target.reset();\n    }\n\n    handleSetActiveItem = item => {\n        const { setActiveItem } = this.props;\n\n        setActiveItem(item);\n    }\n\n    handleDeleteItem = (event, item) => {\n        const { deleteItem } = this.props;\n\n        event.stopPropagation();\n        event.preventDefault();\n        deleteItem(item);\n    }\n\n    render() {\n        const {\n            props: {\n                data,\n                activeItem\n            },\n            handleSetActiveItem,\n            handleDeleteItem,\n            handleSubmitForm\n        } = this;\n\n        return (\n            <div className=\"box\">\n                <h2 className=\"title\">Items</h2>\n                <form className=\"form\" onSubmit={handleSubmitForm}>\n                    <input type=\"text\" className=\"input form__input\" placeholder=\"Type name here...\" required />\n                    <button className=\"btn items__btn\" type=\"submit\">Add New</button>\n                </form>\n                <ul className=\"items__list\">\n                    {data.map((item, index) => {\n                        return (\n                            <li onClick={() => handleSetActiveItem(item)} key={index} className={item.id === activeItem.id ? 'item active' : 'item'}>\n                                <span className=\"item__name\">{item.name}</span>\n                                <span className=\"item__count\">{item.comments.length}</span>\n                                <button className=\"btn btn__delete\" onClick={(e) => handleDeleteItem(e, item)}>Delete</button>\n                            </li>\n                        );\n                    })}\n                </ul>\n            </div>\n        );\n    }\n};\n","import React from 'react';\nimport './styles.css';\n\nexport default function Comment({ data }) {\n    return (\n        <div className=\"comment\">\n            <div className=\"comment__color\" style={{ background: data.color }}/>\n            <div className=\"comment__text\">{data.body}</div>\n        </div>\n    );\n};","import React, { Component } from 'react';\nimport Comment from \"../Comment\";\nimport './styles.css';\n\nexport default class Comments extends Component {\n    handleSubmitForm = event => {\n        const { addNewComment } = this.props;\n\n        event.preventDefault();\n        addNewComment(event.target[0].value, event.target[1].value);\n        event.target.reset();\n    }\n\n    handleKeyDown = event => {\n        if (event.ctrlKey && event.keyCode === 13) {\n            if (event.target.value.length !== 0) {\n                event.target.form[2].click();\n            }\n        }\n    }\n\n    render() {\n        const { data } = this.props;\n\n        return (\n            <div className=\"box\">\n                <h2 className=\"title\">Comments #{data && data.id}</h2>\n                {data && data.comments.map(item => <Comment key={item.id} data={item} />)}\n                <form className=\"comment__form\" onSubmit={this.handleSubmitForm}>\n                    <input type=\"color\" className=\"input comment__input\" />\n                    <textarea onKeyDown={this.handleKeyDown} className=\"input comment__input comment__area\" placeholder=\"Type comment here...\" required />\n                    <button className=\"btn btn__comment\" type=\"submit\">Add New</button>\n                </form>\n            </div>\n        );\n    }\n};\n","import React, { Component } from 'react';\nimport './styles.css';\nimport Items from \"../Items\";\nimport Comments from \"../Comments\";\n\nexport default class Main extends Component {\n    state = {\n        items: [],\n        activeItem: null\n    };\n\n    componentDidMount() {\n        const { items, activeItem } = this.state;\n\n        const itemsFromStore = JSON.parse(window.localStorage.getItem('items'));\n        const activeItemFromStore = JSON.parse(window.localStorage.getItem('activeItem'));\n\n        if (itemsFromStore && itemsFromStore.length) {\n            this.setState({\n                items: [...itemsFromStore],\n                activeItem: {\n                    ...activeItemFromStore\n                }\n            });\n        } else {\n            if (!activeItem && items && items[0]) {\n                this.setActiveItem(items[0]);\n            }\n        }\n    }\n\n    componentDidUpdate() {\n        const { items, activeItem } = this.state;\n\n        window.onunload = () => {\n            window.localStorage.setItem('items', JSON.stringify(items));\n            window.localStorage.setItem('activeItem', JSON.stringify(activeItem));\n        };\n    }\n\n    getRandomId() {\n        return Math.floor(Math.pow(10, 7) + Math.random() * 9 * Math.pow(10, 7));\n    }\n\n    setActiveItem = item => {\n        this.setState({\n            activeItem: {\n                ...item,\n                comments: [\n                    ...item.comments\n                ]\n            }\n        });\n    }\n\n    addNewItem = (name) => {\n        const { items } = this.state;\n\n        const item = {\n            name,\n            id: this.getRandomId(),\n            comments: []\n        };\n\n        if (!items.length) {\n            this.setActiveItem(item);\n        }\n\n        this.setState({\n            items: [\n                ...items,\n                item\n            ]\n        });\n    };\n\n    deleteItem = item => {\n        const { items } = this.state;\n        const newItems = items.filter(i => i.id !== item.id);\n\n        this.setState({\n            items: [\n                ...newItems,\n            ]\n        });\n\n        if (newItems.length) {\n            this.setActiveItem(newItems[newItems.length - 1]);\n        } else {\n            this.setState({\n                activeItem: null\n            });\n        }\n    };\n\n    addNewComment = (color, body) => {\n        const { activeItem, items } = this.state;\n\n        activeItem.comments.push({\n            id: this.getRandomId(),\n            body,\n            color\n        });\n\n        for (let i = 0; i < items.length; i++) {\n            if (items[i].id === activeItem.id) {\n                items[i] = {\n                    ...activeItem\n                };\n                break;\n            }\n        }\n\n        this.setState({\n            items: [\n                ...items\n            ],\n            activeItem: {\n                ...activeItem\n            }\n        });\n    };\n\n    render() {\n        const {\n            state: {\n                items,\n                activeItem\n            },\n            addNewItem,\n            setActiveItem,\n            addNewComment,\n            deleteItem\n        } = this;\n\n        return (\n            <main className=\"main\">\n                <div className=\"inner\">\n                    <Items\n                        data={items}\n                        activeItem={activeItem}\n                        addNewItem={addNewItem}\n                        setActiveItem={setActiveItem}\n                        deleteItem={deleteItem}\n                    />\n                    <Comments\n                        data={activeItem}\n                        addNewComment={addNewComment}\n                    />\n                </div>\n            </main>\n        );\n    }\n};\n","import React from 'react';\nimport Aside from \"../../components/Aside\";\nimport Main from \"../../components/Main\";\nimport './styles.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Aside/>\n      <Main/>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './containers/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}